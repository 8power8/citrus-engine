var dom = fl.getDocumentDOM();var tl = dom.getTimeline();var library = dom.library;var fill = dom.getCustomFill();var color;function manageLayer(nameLayer, colorLayer) {		if (tl.findLayerIndex(nameLayer) == undefined) {		layernum = tl.addNewLayer(nameLayer);		tl.layers[layernum].color = colorLayer;		tl.reorderLayer(layernum, 0);	}		tl.setSelectedLayers(tl.findLayerIndex(nameLayer)[0]);}function addHero(instanceName) {		if (!library.itemExists("Hero")) {			library.addNewItem("movie clip", "Hero");		color = '#0000FF';				manageLayer("Hero", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Hero")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-30, top:-50, right:30, bottom:50}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addBaddy(instanceName) {		if (!library.itemExists("Baddy")) {			library.addNewItem("movie clip", "Baddy");		color = '#FF0000';				manageLayer("Baddy", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Baddy")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-30, top:-50, right:30, bottom:50}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addPlatform(instanceName) {		if (!library.itemExists("Platform")) {			library.addNewItem("movie clip", "Platform");		color = '#666666';				manageLayer("Platform", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Platform")]);				dom.enterEditMode("inPlace");		fill.color = color;		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-250, top:-10, right:250, bottom:10}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addMovingPlatform(instanceName) {		if (!library.itemExists("MovingPlatform")) {			library.addNewItem("movie clip", "MovingPlatform");		color = '#CCCCCC';				manageLayer("MovingPlatform", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("MovingPlatform")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-15, right:25, bottom:15}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addSensor(instanceName) {		if (!library.itemExists("Sensor")) {			library.addNewItem("movie clip", "Sensor");		color = '#00FF00';				manageLayer("Sensor", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Sensor")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addPhysicObject(instanceName) {		if (!library.itemExists("PhysicObject")) {			library.addNewItem("movie clip", "PhysicObject");		color = '#993300';				manageLayer("PhysicObject", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("PhysicObject")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addCloud(instanceName) {		if (!library.itemExists("Cloud")) {			library.addNewItem("movie clip", "Cloud");		color = '#0099CC';				manageLayer("Cloud", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Cloud")]);				dom.enterEditMode("inPlace");		fill.color = color;		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true); 		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addCoin(instanceName) {		if (!library.itemExists("Coin")) {			library.addNewItem("movie clip", "Coin");		color = '#FFFF00';				manageLayer("Coin", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Coin")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewOval({left:-25, top:-25, right:25, bottom:25}, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addBackground(instanceName) {		if (!library.itemExists("Background")) {			library.addNewItem("movie clip", "Background");		color = "#000000";				manageLayer("Background", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Background")]);				dom.enterEditMode("inPlace");		dom.setFillColor(color); 		dom.addNewText({left:0, top:0, right:100, bottom:100}, "Background"); 		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addTeleporter(instanceName) {		if (!library.itemExists("Teleporter")) {			library.addNewItem("movie clip", "Teleporter");		color = '#009900';				manageLayer("Teleporter", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Teleporter")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addTreadmill(instanceName, speedTread, startingDirection, enableTreadmill, enable) {		if (!library.itemExists("Treadmill")) {			library.addNewItem("movie clip", "Treadmill");		color = '#333333';				manageLayer("Treadmill", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Treadmill")]);				dom.enterEditMode("inPlace");		fill.color = color;		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-250, top:-10, right:250, bottom:10}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}function addCannon(instanceName) {		if (!library.itemExists("Cannon")) {			library.addNewItem("movie clip", "Cannon");		color = '#663300';				manageLayer("Cannon", color);				dom.addItem({x:0,y:0}, library.items[library.findItemIndex("Cannon")]);				dom.enterEditMode("inPlace");		fill.color = color;  		fill.style = "solid"; 		dom.setCustomFill(fill);		dom.addNewRectangle({left:-25, top:-25, right:25, bottom:25}, 0, false, true);		dom.exitEditMode();				dom.selection[0].name = instanceName;	}}/*Create layers, frames, labels, actions*/function createHero() {		var layernum = tl.getSelectedLayers();	tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		tl.layers[0].frames[0].name = 'default';	tl.layers[0].frames[10].name = 'idle';	tl.layers[0].frames[20].name = 'walk';	tl.layers[0].frames[30].name = 'jump';	tl.layers[0].frames[40].name = 'duck';	tl.layers[0].frames[50].name = 'hurt';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);	tl.insertKeyframe(20);	tl.insertKeyframe(30);	tl.insertKeyframe(40);	tl.insertKeyframe(50);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createBaddy() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'walk';	tl.layers[0].frames[10].name = 'die';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createMissile() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'normal';	tl.layers[0].frames[10].name = 'exploded';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createCannon() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'normal';	tl.layers[0].frames[10].name = 'fire';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createTeleporter() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'normal';	tl.layers[0].frames[10].name = 'teleport';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}function createTreadmill() {		var layernum = tl.getSelectedLayers();		tl.insertKeyframe(10);		layernum = tl.addNewLayer('Labels');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].frames[0].name = 'normal';	tl.layers[0].frames[10].name = 'move';		tl.layers[0].locked = true;		layernum = tl.addNewLayer('Actions');	tl.reorderLayer(layernum, 0);	tl.setSelectedLayers(0);		tl.insertKeyframe(10);		tl.layers[0].locked = true;		tl.insertFrames(9);}